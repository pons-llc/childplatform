# 機能要件一覧

## 1. 共通機能
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| C01 | グローバルナビゲーション | ホーム、やること、妊娠、出産、保育へのリンクを表示する | 常時表示 |
| C02 | レスポンシブデザイン | PC、タブレット、スマートフォンで適切に表示する | |
| C03 | ソフトデザインテーマ | 母親向けにやわらかい配色（ピンク、クリーム、水色）と丸みのあるデザインを採用する | |

## 2. トップページ (ダッシュボード)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| T01 | ユーザー情報表示 | ユーザー名、出産予定日、出産までの残り日数を表示する | |
| T02 | お知らせ表示 | 妊娠届の受理や健診の案内など、重要なお知らせを表示する | |
| T03 | やることリスト（簡易） | 未完了のタスクや期限が近いタスクを表示する | 全件表示も可 |

## 3. 妊娠・出産の手続き (妊娠ページ)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| P01 | 妊娠届リスト表示 | 提出済みの妊娠届のステータス（受理済み、申請中など）を表示する | |
| P02 | 妊娠届新規作成 | 新しい妊娠届を作成・提出するフォームを表示する | 役所側で承認されると自動でやることリストが作成される。|
| P03 | 妊娠相談予約リスト | 予約済みの妊娠相談の日時とステータスを表示する | |
| P04 | 妊娠相談新規予約 | 妊娠相談の新規予約を行う |  |

## 4. 出産後の手続き (出産ページ)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| B01 | 出生連絡票リスト | 提出済みの出生連絡票のステータスを表示する | |
| B02 | 出生連絡票作成 | 新しい出生連絡票を作成する | 役所側で承認されると自動でやることリストが作成される。|
| B03 | 出生後相談予約リスト | 予約済みの出生後相談の日時とステータスを表示する | |
| B04 | 出生後相談新規予約 | 出生後相談の新規予約を行う |  |

## 5. 保育園・入園手続き (保育ページ)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| N01 | 保育園マップ表示 | 周辺の保育園を地図上（Leaflet）にマーカーで表示する | |
| N02 | 空き状況確認 | 保育園マーカーをクリックすると、年齢別（0-3歳）の空き状況を表示する | |
| N03 | 点数シミュレーション遷移 | 点数計算ページへのリンクを提供する | |
| N04 | 入園相談予約遷移 | 入園相談予約ページへのリンクを提供する |  |

## 6. 点数シミュレーション (点数計算ページ)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| S01 | 就労状況入力 | 父・母それぞれの就労形態（フルタイム、パート等）と就労時間を選択する | |
| S02 | 調整指数入力 | ひとり親、兄弟在園、祖父母同居などの調整項目を選択する | |
| S03 | 点数自動計算 | 入力内容に基づいて、認可保育園の選考指数（目安）をリアルタイムで計算・表示する | |

## 7. やることリスト (ToDoページ)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| D01 | カテゴリ別表示 | 妊娠、出産、保育のカテゴリごとにタスクを一覧表示する | |
| D02 | 詳細展開 | タスクをクリックすると、詳細（概要、ステータス、関連リンク）を展開表示する | |
| D03 | ステータス表示 | 完了/未完了のステータスをアイコンとテキストで表示する | |
| D04 | 関連リンク遷移 | タスクに関連する機能ページ（妊娠ページ等）へ直接遷移する | |

## 8. ユーザー連携 (新規追加)
| ID | 機能名 | 概要 | 備考 |
|:---|:---|:---|:---|
| U01 | マイナポータル連携 | マイナポータルと連携し、基本情報や申請状況を取得・同期する | |
| U02 | 外部IDログイン | Google, Apple等の外部IDを使用したログイン・アカウント作成 | |
| U03 | 家族アカウント連携 | パートナーや家族と子供の情報を共有するためのアカウント連携機能 | |

## 9. データ管理 (データベース構成案)
### 9.1 ユーザー・家族
| テーブル名 | 論理名 | 主なカラム | 備考 |
|:---|:---|:---|:---|
| Users | ユーザー | `user_id`, `name`, `email`, `password_hash`, `current_status` | |
| Families | 家族グループ | `family_id`, `primary_user_id` | 家族共有用 |
| FamilyMembers | 家族構成員 | `member_id`, `family_id`, `user_id`, `role` (父、母、祖父母等) | |
| Children | 子供 | `child_id`, `family_id`, `name`, `birth_date`, `gender` | |

### 9.2 妊娠・出産・育児
| テーブル名 | 論理名 | 主なカラム | 備考 |
|:---|:---|:---|:---|
| PregnancyRegistrations | 妊娠届 | `registration_id`, `user_id`, `submission_date`, `status`, `expected_date` | |
| BirthNotifications | 出生連絡票 | `notification_id`, `user_id`, `child_id`, `submission_date`, `status` | |
| Consultations | 相談予約 | `consultation_id`, `user_id`, `type` (妊娠/出産/育児), `date`, `status`, `notes` | |
| NurseryApplications | 保育入園申請 | `application_id`, `user_id`, `child_id`, `submission_date`, `status`, `score` | |

### 9.3 マスターデータ・その他
| テーブル名 | 論理名 | 主なカラム | 備考 |
|:---|:---|:---|:---|
| Nurseries | 保育園マスタ | `nursery_id`, `name`, `address`, `coordinates`, `capacity` | |
| NurseryVacancies | 空き状況 | `vacancy_id`, `nursery_id`, `age_group`, `count`, `updated_at` | |
| ToDos | やることタスク | `todo_id`, `user_id`, `category`, `title`, `description`, `due_date`, `status`, `related_link` | 自動生成されるタスクもここに格納 |

